# 서비스 계정 생성 오류 해결

## 오류 메시지
```
Error generating the service identity for pubsub.googleapis.com.
```

## 해결 방법

### 방법 1: Google Cloud Console에서 API 활성화

1. **Google Cloud Console 접속**
   - https://console.cloud.google.com/apis/library?project=michael-jesus

2. **필요한 API 활성화 확인**
   - Cloud Pub/Sub API
   - Cloud Functions API
   - Cloud Build API
   - Artifact Registry API
   - Eventarc API
   - Storage API

3. **각 API 페이지에서 "사용 설정" 클릭**

### 방법 2: gcloud CLI로 API 활성화

```powershell
# 필요한 API 활성화
gcloud services enable pubsub.googleapis.com --project=michael-jesus
gcloud services enable cloudfunctions.googleapis.com --project=michael-jesus
gcloud services enable cloudbuild.googleapis.com --project=michael-jesus
gcloud services enable artifactregistry.googleapis.com --project=michael-jesus
gcloud services enable eventarc.googleapis.com --project=michael-jesus
gcloud services enable storage.googleapis.com --project=michael-jesus
```

### 방법 3: 권한 확인

Firebase 프로젝트 소유자 권한이 있는지 확인:
- https://console.firebase.google.com/project/michael-jesus/settings/iam

### 방법 4: 잠시 후 재시도

일시적인 Google Cloud 서비스 문제일 수 있습니다. 몇 분 후 다시 시도:

```powershell
firebase deploy --only functions
```

## 현재 상태

Functions는 이미 배포되어 있습니다:
- `helloWorld` (v2)
- `processOMR` (v2)

이 오류는 재배포 중에 발생했지만, 기존 Functions는 정상 작동합니다.

## 확인

Functions가 정상 작동하는지 확인:

```powershell
firebase functions:log --only processOMR
```

